<!DOCTYPE html>
<html>
<head>
  <title>Create Product Form</title>
  <script>
    // Define the createProduct function
    function createProduct(productType, formData) {
      const product = {
        sku: formData.sku,
        name: formData.name,
        price: formData.price,
        type: productType,
      };

      const typeMappings = {
        Book: { weight: formData.weight },
        DVD: { size: formData.size },
        Furniture: {
          height: formData.height,
          length: formData.length,
          width: formData.width,
        },
      };

      const typeMapping = typeMappings[productType];
      if (typeMapping) {
        Object.assign(product, typeMapping);
      }

      return product;
    }

    // Function to handle form submission
    function handleSubmit(event) {
      event.preventDefault(); // Prevent form submission

      // Get form data
      const form = event.target;
      const productType = form.elements.productType.value;
      const formData = {
        sku: form.elements.sku.value,
        name: form.elements.name.value,
        price: form.elements.price.value,
        weight: form.elements.weight.value,
        size: form.elements.size.value,
        height: form.elements.height.value,
        length: form.elements.length.value,
        width: form.elements.width.value,
      };

      // Create product using the createProduct function
      const product = createProduct(productType, formData);
      console.log(product); // Output the created product
    }
  </script>
</head>
<body>
  <form method="post" onsubmit="handleSubmit(event)">
    <!-- Name input section -->
    <div class="form-element my-4">
      <input type="text" class="form-control" name="name" id="name" placeholder="Name:">
    </div>
    <!-- SKU input section -->
    <div class="form-element my-4">
      <input type="text" class="form-control" name="sku" id="sku" placeholder="SKU:">
    </div>
    <!-- Price input section -->
    <div class="form-element my-4">
      <input type="number" step="0.01" class="form-control" name="price" id="price" placeholder="Price">
    </div>
    <!-- Select type for product -->
    <div class="form-element my-4">
      <select name="productType" id="productType" class="form-control" placeholder="Select Type">
        <option value="">Select Product Type:</option>
        <option value="Furniture">Furniture</option>
        <option value="Book">Book</option>
        <option value="DVD">DVD</option>
      </select>
    </div>
    <!-- DVD input section -->
    <div class="form-element my-4 d-none" id="dvdInput">
      <!-- Size -->
      <label for="validationDefault04">Size</label>
      <input type="number" step="0.01" class="form-control" name="size" placeholder="in Megabytes (MB):">
    </div>
    <!-- Book input section -->
    <div class="form-element my-4 d-none" id="bookInput">
      <!-- Weight -->
      <label for="validationDefault04">Weight</label>
      <input type="number" step="0.01" class="form-control" name="weight" placeholder="in Kilograms (kg):">
    </div>
    <!-- Furniture input section -->
    <div class="form-element my-4 d-none" id="furnitureInput">
      <!-- Length -->
      <label for="length">Length</label>
      <input type="number" step="0.01" class="form-control" name="length" placeholder="Length:">
      <!-- Width -->
      <label for="width" class="mt-2">Width</label>
      <input type="number" step="0.01" class="form-control" name="width" placeholder="Width:">
      <!-- Height -->
      <label for="height" class="mt-2">Height</label>
      <input type="number" step="0.01" class="form-control" name="height" placeholder="Height:">
    </div>
    <!-- Submit button -->
    <div class="form-element my-4">
      <input type="submit" name="create" value="Add Product" class="btn btn-primary">
    </div>
  </form>
  <script>
    // Event listener to show/hide input sections based on the selected product type
    const productTypeSelect = document.getElementById("productType");
    const dvdInput = document.getElementById("dvdInput");
    const bookInput = document.getElementById("bookInput");
    const furnitureInput = document.getElementById("furnitureInput");

    productTypeSelect.addEventListener("change", function () {
      const selectedValue = productTypeSelect.value;
      dvdInput.style.display = selectedValue === "DVD" ? "block" : "none";
      bookInput.style.display = selectedValue === "Book" ? "block" : "none";
      furnitureInput.style.display = selectedValue === "Furniture" ? "block" : "none";
    });
  </script>
</body>
</html>
